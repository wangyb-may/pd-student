<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bysj.wyb.student.mapper.HomeworkMapper">


    <select id="personalHomework" resultType="com.bysj.wyb.student.vo.HomeworkVo">
        SELECT DISTINCT h.id as homeworkId,h.`name` as homeworkName,t.`name` as teacherName,c.name as courseName,h.createtime as createTime,h.context as context
        from pd_homework as h
        LEFT JOIN pd_student as s on s.classnumber=h.classnumber
        LEFT JOIN pd_teacher as t on t.uid=h.teacherid
        LEFT JOIN pd_course as c on c.courseid=h.courseid
        where s.uid=#{uid}
    </select>
    
    <select id="findHomeworkBySomething" resultType="com.bysj.wyb.student.vo.HomeworkVo">
        SELECT DISTINCT h.id as homeworkId,h.`name` as homeworkName,t.`name` as teacherName,c.name as courseName,h.createtime as createTime,h.context as context
        from pd_homework as h
        LEFT JOIN pd_student as s on s.classnumber=h.classnumber
        LEFT JOIN pd_teacher as t on t.uid=h.teacherid
        LEFT JOIN pd_course as c on c.courseid=h.courseid
        where s.uid=#{uid} and concat(h.`name`,c.name,t.`name`) like "%"#{keywords}"%"
    </select>

    <select id="showStatus" resultType="com.bysj.wyb.student.vo.HomeworkVo">
        select score,status as upStatu,uptime as upTime from pd_homework_status where homeworkid=#{homeworkId} and uid=#{uid}
    </select>


</mapper>